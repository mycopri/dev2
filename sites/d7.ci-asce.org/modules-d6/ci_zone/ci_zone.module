<<<<<<< HEAD
<?php

/**
 * Implementation of hook_menu
 */
function ci_zone_menu() {
	$items['ci-zone'] = array(
    'title'            => 'Construction Zone',
    'description'      => 'construction Zone Home Page',
		'page callback'    => 'ci_zone_home',
    'file'             => 'ci_zone.pages.inc',
    'access callback' => TRUE,
    'type'             => MENU_DEFAULT_LOCAL_TASK,    
	);
	$items['ci-zone/home'] = array(
    'type'             => MENU_DEFAULT_LOCAL_TASK,
	);
	return $items;
}

/**
 * Implementation of hook_theme().
 */	
function ci_zone_theme() {
	return array(
    'ci_zone' => array(
      'arguments' => array(),
      'template' => 'ci-zone',
    ),
    'ci_zone_admin' => array(
			'arguments' => array(),
		)
  );  
}

/**
 * Implementation of hook_block().
 */
function ci_zone_block($op = 'list', $delta = 0, $edit = array()) {
  global $user;

  if ($op == 'list') {
    $blocks[0]['info'] = t('CI Zone: Articles');
    $blocks[0]['cache'] = BLOCK_NO_CACHE;
		$blocks[1]['info'] = t('CI Zone: Panel');
    $blocks[1]['cache'] = BLOCK_NO_CACHE;
    return $blocks;
  }
  else if ($op == 'configure' && $delta == 0) {

  }
  else if ($op == 'save' && $delta == 0) {

  }
  else if ($op == 'view') {
    $block = array();
    switch ($delta) {
      case 0:
        return ci_zone_block_articles();
				break;
			case 1:
				return ci_zone_block_panel();
				break;
    }
  }
}

function ci_zone_block_articles() {
	$block = '';
	$block['subject'] = 'CI Zone';
	$block['content'] = 'A list of articles';
	return $block;
}

function ci_zone_block_panel() {
	$block = '';
	$block['subject'] = 'CI Zone';
	$block['content'] = 'Navigation';
	return $block;
}

function ci_zone_preprocess_ci_zone(&$vars) {
	global $user;
	
	$vars['articles'] = theme('block', (object) ci_zone_block_articles());
	$vars['panel'] = theme('block', (object) ci_zone_block_panel());
	
	// Administrator links
	if (user_access('administer nodes', $user)) {
		$vars['admin'] = theme('ci_zone_admin');
	}
}

function theme_ci_zone_admin() {
	$o  = '<div class="admin">' . "\n";
	$attr = array(
		'attributes' => array(
			'title' => t('edit the content of this block'),
			'class' => 'block-edit',
		),
		'query' => drupal_get_destination(),
		'html' => TRUE,
	);
	$o .= l('<span>' . t('Add new article') . '</span>', 'node/add/ci-zone', $attr) . "\n"; 
  $o .= '</div>';
	return $o;    
}
=======
<?php

/**
 * Implementation of hook_menu
 */
function ci_zone_menu() {
	$items['ci-zone'] = array(
    'title'            => 'Construction Zone',
    'description'      => 'construction Zone Home Page',
		'page callback'    => 'ci_zone_home',
    'file'             => 'ci_zone.pages.inc',
    'access callback' => TRUE,
    'type'             => MENU_DEFAULT_LOCAL_TASK,    
	);
	$items['ci-zone/home'] = array(
    'type'             => MENU_DEFAULT_LOCAL_TASK,
	);
	return $items;
}

/**
 * Implementation of hook_theme().
 */	
function ci_zone_theme() {
	return array(
    'ci_zone' => array(
      'arguments' => array(),
      'template' => 'ci-zone',
    ),
    'ci_zone_admin' => array(
			'arguments' => array(),
		)
  );  
}

/**
 * Implementation of hook_block().
 */
function ci_zone_block($op = 'list', $delta = 0, $edit = array()) {
  global $user;

  if ($op == 'list') {
    $blocks[0]['info'] = t('CI Zone: Articles');
    $blocks[0]['cache'] = BLOCK_NO_CACHE;
		$blocks[1]['info'] = t('CI Zone: Panel');
    $blocks[1]['cache'] = BLOCK_NO_CACHE;
    return $blocks;
  }
  else if ($op == 'configure' && $delta == 0) {

  }
  else if ($op == 'save' && $delta == 0) {

  }
  else if ($op == 'view') {
    $block = array();
    switch ($delta) {
      case 0:
        return ci_zone_block_articles();
				break;
			case 1:
				return ci_zone_block_panel();
				break;
    }
  }
}

function ci_zone_block_articles() {
	$block = '';
	$block['subject'] = 'CI Zone';
	$block['content'] = 'A list of articles';
	return $block;
}

function ci_zone_block_panel() {
	$block = '';
	$block['subject'] = 'CI Zone';
	$block['content'] = 'Navigation';
	return $block;
}

function ci_zone_preprocess_ci_zone(&$vars) {
	global $user;
	
	$vars['articles'] = theme('block', (object) ci_zone_block_articles());
	$vars['panel'] = theme('block', (object) ci_zone_block_panel());
	
	// Administrator links
	if (user_access('administer nodes', $user)) {
		$vars['admin'] = theme('ci_zone_admin');
	}
}

function theme_ci_zone_admin() {
	$o  = '<div class="admin">' . "\n";
	$attr = array(
		'attributes' => array(
			'title' => t('edit the content of this block'),
			'class' => 'block-edit',
		),
		'query' => drupal_get_destination(),
		'html' => TRUE,
	);
	$o .= l('<span>' . t('Add new article') . '</span>', 'node/add/ci-zone', $attr) . "\n"; 
  $o .= '</div>';
	return $o;    
}
>>>>>>> origin/master
